import { ChainId } from '@dcl/schemas/dist/dapps/chain-id'
import { useState, useMemo, useEffect, useRef } from 'react'
import { Source, ArgsTable } from '@storybook/components'
import { Meta, Story, Preview, Canvas, Subtitle } from '@storybook/addon-docs'
import { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'
import ModalContainer from '../Storybook/ModalContainer'
import WalletSelectorModal from './WalletSelectorModal'

<Meta title="Components/Modal/WalletSelectorModal" />

<Canvas isExpanded>
  <Story name="All providers">
    <ModalContainer
      Modal={WalletSelectorModal}
      open
      availableProviders={[
        ProviderType.INJECTED,
        ProviderType.FORTMATIC,
        ProviderType.NETWORK,
        ProviderType.WALLET_CONNECT,
        ProviderType.WALLET_LINK,
      ]}
    />
  </Story>
</Canvas>

<Canvas>
  <Story name="Metamask as link">
    <ModalContainer
      Modal={WalletSelectorModal}
      open
      availableProviders={[
        ProviderType.FORTMATIC,
        ProviderType.NETWORK,
        ProviderType.WALLET_CONNECT,
        ProviderType.WALLET_LINK,
      ]}
    />
  </Story>
</Canvas>

<Canvas>
  <Story name="Detected providers">
    <ModalContainer Modal={WalletSelectorModal} open />
  </Story>
</Canvas>

<Canvas>
  <Story name="Loading">
    <ModalContainer Modal={WalletSelectorModal} open loading={true} />
  </Story>
</Canvas>

<Canvas>
  <Story name="Error">
    <ModalContainer
      Modal={WalletSelectorModal}
      open
      error={'Could not connect wallet'}
    />
  </Story>
</Canvas>

<Divider size="small" />
